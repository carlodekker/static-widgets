<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <!-- <meta charset="ISO-8859-1"> -->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Sezzle SDK Test</title>

  </head>
  <body class='container' style="background: lightslategray;">
    <script>
        function testing (e){
            e.preventDefault();
            e.stopPropagation();
            console.log(e);
        }
    </script>
    <form onsubmit="testing()">
        <h1>Test Sezzle SDK</h1>

        <p id='ProductPrice' data-product-type="price" data-product-type="price"><span class="currency">$</span><span class="amount">39495</span></p>
				<div id='sezzle-widget'></div>
    </form>

    <script src='../dist/bundle.js'></script>
		<script>
			var pageflyPrice = document.querySelector('[data-product-type="price"]') && document.querySelector('[data-product-type="price"]').innerText;
				var shopifyPrice = document.querySelector('[itemprop="price"]') && document.querySelector('[itemprop="price"]').innerText;
			var renderSezzle = new AwesomeSezzle({
				amount: pageflyPrice || shopifyPrice || '{{ product.selected_or_first_available_variant.price | money }}',
				minPriceLT: 50000,
				bestAPR: 0,
				maxPrice: 4000000
			})
			renderSezzle.init();
			document.onchange = function(){
			var pageflyPrice = document.querySelector('[data-product-type="price"]') && document.querySelector('[data-product-type="price"]').innerText;
			var shopifyPrice = document.querySelector('[itemprop="price"]') && document.querySelector('[itemprop="price"]').innerText;
				var newPrice = pageflyPrice || shopifyPrice || '{{ product.selected_or_first_available_variant.price | money }}';
				renderSezzle.alterPrice(newPrice);
			}
		</script>
